(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages1-report-analysis-tourutongji"],{"0821":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={uField:a("2e80").default,uSelect:a("e0e7").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"xingtai"},[a("v-uni-view",{staticClass:"h5",staticStyle:{}},[t._v("投入项目构成统计")]),a("v-uni-view",{staticClass:"sss-view"},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.yearshow=!0}}},[a("u-field",{attrs:{label:"年度",disabled:!0,placeholder:"请选择年度"},model:{value:t.filterDate.Y,callback:function(e){t.$set(t.filterDate,"Y",e)},expression:"filterDate.Y"}})],1)],1),t.dataLoaded?t._e():a("v-uni-view",{staticStyle:{width:"100%",padding:"100rpx 0","text-align":"center"}},[t._v("图形初始化中...")]),t.dataLoaded?a("v-uni-canvas",{staticClass:"charts",attrs:{"canvas-id":"canvaPie",id:"canvaPie"},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchLineA.apply(void 0,arguments)}}}):t._e(),a("v-uni-view",{staticClass:"h5"},[t._v("投入/计划比")]),t.dataLoaded?a("v-uni-canvas",{staticClass:"charts",attrs:{"canvas-id":"canvasColumn",id:"canvasColumn"},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchColumn.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.moveLineA.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchEndLineA.apply(void 0,arguments)}}}):t._e(),a("u-select",{attrs:{defaultValue:t.defaultValue,list:t.yearList},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}},model:{value:t.yearshow,callback:function(e){t.yearshow=e},expression:"yearshow"}})],1)},o=[]},"2e15":function(t,e,a){"use strict";a.r(e);var n=a("83e0"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"3d23":function(t,e,a){"use strict";a.r(e);var n=a("8f08"),i=a("2e15");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("4811");var r=a("828b"),l=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"20281138",null,!1,n["a"],void 0);e["default"]=l.exports},4811:function(t,e,a){"use strict";var n=a("747c"),i=a.n(n);i.a},6315:function(t,e,a){"use strict";a.r(e);var n=a("e7d1"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},6899:function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,".xingtai[data-v-576ce013]{min-height:%?682?%;position:relative}.xingtai>.h5[data-v-576ce013]{color:#fff;font-size:%?30?%;font-weight:600;border-bottom:%?1?% solid #f1f1f1;padding-bottom:%?20?%;padding-top:%?20?%;background-color:#032e6d;text-align:center\n\t/* margin: 15rpx 0; */}.qiun-charts[data-v-576ce013]{width:%?750?%;height:%?500?%;background-color:#fff;position:relative}.charts[data-v-576ce013]{width:%?750?%;height:%?500?%;background-color:#fff;z-index:0}",""]),t.exports=e},"747c":function(t,e,a){var n=a("c1ad");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("967d").default;i("b5349a0a",n,!0,{sourceMap:!1,shadowMode:!1})},"83e0":function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("9323")),o={components:{TouruComponent1:i.default},data:function(){return{}},mounted:function(){},methods:{scrolltolower:function(){}}};e.default=o},"8f08":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-scroll-view",{staticClass:"tourutongji",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrolltolower.apply(void 0,arguments)}}},[a("TouruComponent1")],1)},i=[]},9323:function(t,e,a){"use strict";a.r(e);var n=a("0821"),i=a("6315");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("d638");var r=a("828b"),l=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"576ce013",null,!1,n["a"],void 0);e["default"]=l.exports},c1ad:function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.tourutongji[data-v-20281138]{position:absolute;left:0;top:40px;bottom:%?100?%;right:0}',""]),t.exports=e},d638:function(t,e,a){"use strict";var n=a("eab3"),i=a.n(n);i.a},e7d1:function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("fcf3"));a("bf0f"),a("2797"),a("fd3c"),a("f7a5"),a("e966");var o,r=a("c88e"),l=a("4241"),u=(a("6e31"),n(a("7b96"))),c=null,d=null,s=(new Date,{data:function(){return{yearNow:(new Date).getFullYear()+"",yearList:(0,r.getYear)((new Date).getFullYear()+""),yearshow:!1,defaultValue:[0],year:"",dateItem:{type:"date",title:"搜索",field:"0",props:{format:"YM"},value:""},detailed_list:[{id:1,name:"安全设备设施改造维护费"},{id:2,name:"应急物资、演练支出费用"},{id:3,name:"隐患评估、整改费用"},{id:4,name:"安全评价、咨询费用"},{id:5,name:"安全宣传、教育、培训费用"},{id:6,name:"安全防护用品支出费用"},{id:7,name:'"四新"推广应用支出费用'},{id:8,name:"安全设施、特种设备检测检验费用"},{id:9,name:"其他与安全生产直接相关的支出"}],filterDate:{Y:(new Date).getFullYear()+"",mark:1},cWidth:"",cHeight:"",cHeight1:"",pixelRatio:1,serverData:"",dataLoaded:!1,legendData:[]}},created:function(){var t=this;(0,r.getYear)(this.yearNow).forEach((function(e,a){1==e.now&&(t.defaultValue=[a])})),o=this,this.cWidth=uni.upx2px(750),this.cHeight=uni.upx2px(500),this.cHeight1=uni.upx2px(300),this.getList()},methods:{confirm:function(t){this.filterDate.Y=t[0].label,this.getList()},getList:function(){var t=this;l.api.get_input_statistics(this.filterDate,(function(e){var a={series:[]};t.legendData=e.data.circle,a.series=e.data.circle.map((function(e,a){for(var n=0;n<t.detailed_list.length;n++)t.detailed_list[n].id==e.title&&(e.title=t.detailed_list[n].name);var i="";return e.title_name&&(i=e.title_name.length>4?e.title_name.slice(0,4)+"...":e.title_name),{name:i,data:+e.value}}));var n={categories:e.data.month.header,series:e.data.month.data};o.showColumn("canvaPie",a),o.showColumn1("canvasColumn",n),t.dataLoaded=!0}))},dateChange:function(t){this.filterDate={Y:t.detail.data[0],M:t.detail.data[1],mark:1},this.getList()},showColumn:function(t,e){c=new u.default({$this:o,canvasId:t,type:"pie",fontSize:11,legend:{show:!0,itemGap:10,padding:10,margin:10,lineHeight:14,position:"bottom",float:"left"},extra:{pie:{offsetAngle:45,ringWidth:20*o.pixelRatio,lableWidth:15}},background:"#FFFFFF",pixelRatio:o.pixelRatio,series:e.series,animation:!0,width:o.cWidth*o.pixelRatio,height:o.cHeight*o.pixelRatio,disablePieStroke:!0,dataLabel:!0})},touchLineA:function(t){console.log("canvaPie",c);var e=this;c.showToolTip(t,{format:function(t,a){var n=" ";return e.legendData.forEach((function(e){parseInt(e.value)==t.data&&(console.log(parseInt(e.value)),n=e.title_name+":"+t.data)})),n}})},showColumn1:function(t,e){d=new u.default({$this:o,canvasId:t,type:"column",legend:{show:!0},fontSize:11,background:"#FFFFFF",pixelRatio:o.pixelRatio,animation:!0,categories:e.categories,series:e.series,enableScroll:!0,xAxis:{type:"grid",itemCount:5,scrollShow:!0,scrollAlign:"left",gridColor:"#CCCCCC",gridType:"dash",dashLength:8},yAxis:{},dataLabel:!0,width:o.cWidth*o.pixelRatio,height:o.cHeight*o.pixelRatio,extra:{column:{type:"group",width:o.cWidth*o.pixelRatio*.45/e.categories.length}}})},touchColumn:function(t){d.scrollStart(t)},moveLineA:function(t){d.scroll(t)},touchEndLineA:function(t){d.scrollEnd(t),d.showToolTip(t,{format:function(t,e){return"object"===(0,i.default)(t.data)?e+" "+t.name+":"+t.data.value:e+" "+t.name+":"+t.data}})}},mounted:function(){}});e.default=s},eab3:function(t,e,a){var n=a("6899");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("967d").default;i("448204c1",n,!0,{sourceMap:!1,shadowMode:!1})}}]);