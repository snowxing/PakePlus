(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["secure-training-study"],{2155:function(t,i,e){"use strict";e.r(i);var s=e("c7ca"),o=e.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=o.a},"574e":function(t,i,e){var s=e("c86c");i=s(!1),i.push([t.i,".element[data-v-ddcabe58]{width:%?70?%;height:%?70?%;float:left;margin:%?20?% %?40?%;border:%?1?% solid #ccc;border-radius:50%;text-align:center;line-height:%?70?%;color:transparent 0}.element2[data-v-ddcabe58]{width:%?70?%;height:%?70?%;float:left;margin:%?20?% %?40?%;border:%?1?% solid #ccc;background-color:red;border-radius:50%;text-align:center;line-height:%?70?%;color:transparent 0}.element3[data-v-ddcabe58]{width:%?70?%;height:%?70?%;float:left;margin:%?20?% %?40?%;border:%?1?% solid #ccc;background-color:#09ff00;border-radius:50%;text-align:center;line-height:%?70?%;color:transparent 0}.eleDone[data-v-ddcabe58]{width:%?40?%;height:%?40?%;float:left;margin:%?26?% %?10?% %?20?% %?40?%;background-color:#09ff00;border:%?1?% solid #ccc;border-radius:50%;text-align:center;line-height:%?50?%;color:#fff}.eleNot[data-v-ddcabe58]{width:%?40?%;height:%?40?%;float:left;margin:%?28?% %?10?% %?20?% %?30?%;background-color:red;border-radius:50%;text-align:center;line-height:%?70?%;color:#fff}.selection[data-v-ddcabe58]{width:92%;height:22%;margin:%?0?% %?30?% %?10?% %?30?%;padding:%?15?%;border-radius:3%;box-shadow:0 0 %?1?% %?1?% rgba(33,33,33,.1);background:#fff}.selection .time[data-v-ddcabe58]{display:flex;width:100%;height:55%;padding:%?20?%;border-radius:5%;background:#c2ffff}.selection .time .one[data-v-ddcabe58]{flex:1;text-align:center}.selection .time .one p[data-v-ddcabe58]{margin-top:%?10?%}.selection .time .two[data-v-ddcabe58]{border-left:%?1?% solid #ccc;border-right:%?1?% solid #ccc}.foot[data-v-ddcabe58]{display:flex;justify-content:space-around;width:100%;height:%?150?%;padding-top:%?30?%}.foot .cxks[data-v-ddcabe58]{width:30%;height:60%;text-align:center}.foot .jj[data-v-ddcabe58]{width:30%;height:60%;text-align:center}.analysis[data-v-ddcabe58]{width:92%;margin:%?10?% %?30?% 20% %?30?%;padding:%?15?%;border-radius:3%;box-shadow:0 0 %?1?% %?1?% rgba(33,33,33,.1);background:#fff}.analysis p[data-v-ddcabe58]{height:80%;text-indent:2em}.z_audio[data-v-ddcabe58]{width:100%;height:100%;margin:%?150?% %?80?%}.collect1[data-v-ddcabe58]{color:#666}.collect2[data-v-ddcabe58]{color:#f29100}",""]),t.exports=i},"69c8":function(t,i,e){"use strict";var s=e("f3e2"),o=e.n(s);o.a},"802b":function(t,i,e){"use strict";e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return s}));var s={uIcon:e("0d1c").default,uButton:e("f005").default,uPopup:e("f6fd").default,uModal:e("cf82").default},o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-scroll-view",{staticClass:"cheet",attrs:{"scroll-y":"true"},on:{scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.scrolltolower.apply(void 0,arguments)}}},[e("v-uni-view",{staticStyle:{width:"100%",padding:"15upx","background-color":"#007aff",color:"#FFFFFF","font-weight":"700"}},[e("span",{staticStyle:{color:"#ffd199","font-size":"34upx"}},[t._v("("+t._s(1==t.data.multiple?"多选题":"单选题")+")"),e("u-icon",{staticStyle:{"margin-left":"16upx","margin-top":"4upx"},attrs:{name:"volume",size:"38"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.playClick.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticStyle:{"font-size":"30upx","text-indent":"30upx"}},[t._v(t._s(t.data.question))])],1),e("v-uni-view",{staticStyle:{width:"100%",height:"450upx"}},[e("v-uni-video",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.url,controls:!0,autoplay:!0,"show-loading":!0}})],1),e("v-uni-view",{staticStyle:{display:"flex",width:"100%",height:"100upx","padding-top":"20upx","border-bottom":"1upx solid #ccc","background-color":"#007AFF"}},[e("v-uni-view",{staticStyle:{width:"50%",height:"60upx","background-color":"#007AFF",color:"#FFFFFF","line-height":"60upx","text-align":"center","font-size":"38upx","font-weight":"700"}},[t._v("请选择正确答案"+t._s(" ")+"("+t._s(" ")+")")]),t.coll||t.wrong?e("v-uni-view",{staticStyle:{display:"flex",width:"50%","padding-left":"50upx","line-height":"60upx",color:"#FFFFFF"}},[t._v("答错次数"),e("v-uni-text",{staticStyle:{width:"80upx",margin:"0 10upx","text-align":"center","font-size":"30upx","font-weight":"900"}},[t._v(t._s(" ")+t._s(t.data.wrong_nums)+t._s(" "))])],1):t._e()],1),e("v-uni-view",{staticStyle:{"margin-bottom":"17%"}},[t._l(t.items,(function(i,s){return e("v-uni-view",{key:s,staticStyle:{padding:"10upx"}},[e("v-uni-view",{staticStyle:{display:"flex"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.select(i,s)}}},[e("v-uni-view",[i.right?e("u-icon",{attrs:{name:"checkbox-mark",color:t.color,size:"28"}}):t._e(),i.error?e("u-icon",{attrs:{name:"close",color:"red",size:"28"}}):t._e(),e("span",{staticStyle:{"margin-left":"16upx","font-size":"30upx"}},[t._v(t._s(i.label)+":")])],1),e("v-uni-view",{staticStyle:{"margin-left":"6upx","font-size":"30upx"}},[t._v(t._s(i.title))])],1)],1)})),1==t.data.multiple?e("v-uni-view",{staticStyle:{display:"flex","flex-wrap":"wrap","margin-top":"30upx"}},[e("u-button",{attrs:{type:"primary",size:"medium"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submit.apply(void 0,arguments)}}},[t._v("确定")])],1):t._e()],2),t.showSituation?e("v-uni-view",{staticClass:"selection"},[e("v-uni-view",{staticStyle:{color:"#DD524D","font-weight":"700"}},[t._v(t._s(t.situation))]),t.showAnswer?e("v-uni-view",{staticStyle:{margin:"20upx 0"}},[t._v("正确答案是"),e("v-uni-text",{staticStyle:{color:"#00AAFF"}},[t._v(t._s(" ")+t._s(t.data.answer))]),t._v("，你的答案是"),e("v-uni-text",{staticStyle:{color:"#DD524D"}},[t._v(t._s(" ")+t._s(t.wrong_answer))])],1):t._e(),e("v-uni-view",{staticClass:"time"},[e("v-uni-view",{staticClass:"one two",staticStyle:{"border-left":"none"}},[e("h5",[t._v("全企业正确率")]),e("p",{staticStyle:{color:"#18B566","font-weight":"700","font-size":"33upx"}},[t._v(t._s(t.data.accuracy)+"%")])]),e("v-uni-view",{staticClass:"one"},[e("h5",[t._v("易错项")]),e("p",{staticStyle:{color:"#DD524D","font-weight":"700","font-size":"33upx"}},[t._v(t._s(t.data.fallible))])])],1)],1):t._e(),t.showSituation?e("v-uni-view",{staticClass:"analysis"},[e("h5",{staticStyle:{color:"red"}},[t._v("解析")]),e("p",[t._v(t._s(t.data.analysis))])]):t._e(),e("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%","text-align":"center",height:"8%","line-height":"6%",padding:"0 20upx",position:"fixed",bottom:"0upx","background-color":"#FFFFFF"}},[e("v-uni-view",{staticStyle:{display:"flex"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeQuer("add")}}},[e("u-icon",{attrs:{name:"arrow-left-double",color:"#ccc",size:"58"}}),e("p",{staticStyle:{"line-height":"105upx"}},[t._v("上一题")])],1),e("v-uni-view",{staticStyle:{"margin-bottom":"15upx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showQues.apply(void 0,arguments)}}},[e("u-icon",{attrs:{name:"order",color:"#ccc",size:"48"}}),e("p",{staticStyle:{"margin-top":"25upx"}},[t._v("答题卡")])],1),t.showCollect?e("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handCollect()}}},[e("u-icon",{staticStyle:{"margin-top":"6upx"},attrs:{name:"star",color:0==t.collect.is_collected?"#666":"#F29100",size:"48"}}),e("p",{class:0==t.collect.is_collected?"collect1":"collect2",staticStyle:{"margin-top":"20upx"}},[t._v("收藏")])],1):t._e(),e("v-uni-view",{staticStyle:{display:"flex"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeQuer("reduce")}}},[e("p",{staticStyle:{"line-height":"105upx"}},[t._v("下一题")]),e("u-icon",{attrs:{name:"arrow-right-double",color:"#ccc",size:"58"}})],1)],1),e("u-popup",{attrs:{mode:"bottom",length:"70%",borderRadius:"30"},model:{value:t.showGrid,callback:function(i){t.showGrid=i},expression:"showGrid"}},[e("v-uni-view",{staticStyle:{width:"100%",height:"10%","border-bottom":"1upx solid #CCCCCC"}},[e("v-uni-view",{staticStyle:{display:"flex"}},[e("span",{staticClass:"eleDone"}),e("h3",{staticStyle:{"margin-top":"26upx"}},[t._v("正确")]),e("span",{staticClass:"eleDone",staticStyle:{"background-color":"#FFFFFF"}}),e("h3",{staticStyle:{"margin-top":"26upx"}},[t._v("未做")]),e("span",{staticClass:"eleNot"}),e("h3",{staticStyle:{"margin-top":"26upx"}},[t._v("错误")]),e("v-uni-view",{staticStyle:{display:"flex"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeQues.apply(void 0,arguments)}}},[e("h3",{staticStyle:{margin:"28upx 20upx 25upx 130upx",color:"#888"}},[t._v("收起")]),e("u-icon",{staticStyle:{"vertical-align":"bottom",color:"#888"},attrs:{name:"arrow-down",size:"38"}})],1)],1)],1),e("h3",{staticStyle:{margin:"5upx 0 20upx 20upx"}},[t._v("单项选择题")]),e("v-uni-view",{staticStyle:{position:"relative"}},[t._l(t.lists,(function(i,s){return e("v-uni-view",{key:s},[i.niu?e("v-uni-view",{staticClass:"element3",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.routerLink(i.index)}}},[t._v(t._s(s+1))]):e("v-uni-view",{class:i.color?"element2":"element",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.routerLink(i.index)}}},[t._v(t._s(s+1))])],1)})),e("v-uni-view",{staticClass:"foot"},[e("u-button",{staticClass:"cxks",attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clearStatus.apply(void 0,arguments)}}},[t._v("重新开始")]),e("u-button",{staticClass:"jj",attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getResult.apply(void 0,arguments)}}},[t._v("交卷")])],1)],2)],1),e("u-modal",{attrs:{showCancelButton:!0},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.go.apply(void 0,arguments)}},model:{value:t.showResult,callback:function(i){t.showResult=i},expression:"showResult"}},[e("v-uni-view",{staticStyle:{padding:"20upx","text-align":"center"}},[t._v("一共"+t._s(" ")+t._s(t.lists.length)+t._s(" ")+"道题，你答对"+t._s(t.result)+t._s(" ")+"道")])],1),e("u-modal",{attrs:{title:""},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.go.apply(void 0,arguments)}},model:{value:t.showList,callback:function(i){t.showList=i},expression:"showList"}},[e("v-uni-view",{staticStyle:{padding:"20upx","text-align":"center"}},[t._v("该行业没有题目")])],1)],1)},n=[]},c7ca:function(t,i,e){"use strict";e("6a54");var s=e("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("c223"),e("bf0f"),e("2797"),e("64aa"),e("5c47"),e("a1c1"),e("c9b5"),e("ab80"),e("4100"),e("5ef2"),e("dd2b"),e("aa9c"),e("4626"),e("5ac7"),e("d4b5");var o=s(e("b7c7")),n=e("4241"),a={name:"study-list",data:function(){return{collect:{is_collected:0},correct:0,result:0,wrong_answer:"",situation:"",innerAudioContext:null,showCollect:!0,practice:!1,wrong:!1,coll:!1,paper:!0,showList:!1,showResult:!1,showSituation:!1,shuaXin:!0,showAnswer:!1,listflag:!0,showMessage:!1,showGrid:!1,currse:!1,index:null,color:"green",right:"选择正确",err:"选择错误",msg:"加载中...",url:"",bool:!1,sin:!1,arr:[],data:{},items:[],num:"",lists:[],newArr:[],int:[],titleStyle:{"font-weight":700,color:"black"},objData:{}}},components:{},mounted:function(){var t=this;this.loadData(),setTimeout((function(){t.getVoice()}),1500),this.collection()},props:{},methods:{loadData:function(){this.$route.query.practice&&(this.practice=this.$route.query.practice,this.searchQues=JSON.parse(this.$route.query.searchQues),this.getQues(this.searchQues)),this.$route.query.wrong&&(this.coll=this.$route.query.wrong,this.searchQues=JSON.parse(this.$route.query.searchQues),this.getWrong(this.searchQues)),this.$route.query.coll&&(this.coll=this.$route.query.coll,this.searchQues=JSON.parse(this.$route.query.searchQues),this.getCollect(this.searchQues)),this.$route.query.continue&&(this.continue=this.$route.query.continue,this.getContinue()),console.log(this.lists)},getQues:function(t){var i=this;this.searchQues.view_type=1,n.api.get_question_list(t,(function(t){i.msg="暂无数据";var e=t.data.data;e.length<=0?i.currse=!1:(i.currse=!0,i.lists=[].concat((0,o.default)(i.lists),(0,o.default)(t.data.data)),i.lists.forEach((function(t,i){t.index=i})),i.data=i.lists[0],i.items=JSON.parse(i.data.items)),0==i.lists.length&&(i.showList=!0,console.log(i.lists))}))},getWrong:function(t){var i=this;n.api.get_wrong_qustion_list(t,(function(t){i.res=t.data.data,i.lists=t.data.data,i.lists.forEach((function(t,i){t.index=i})),i.lists[0]&&(i.data=i.lists[0],i.items=JSON.parse(i.data.items),i.items.forEach((function(t,i){t.id=i}))),0==i.lists.length&&(i.showList=!0,console.log(i.lists)),console.log("@@@@@@",i.lists)}))},getCollect:function(t){var i=this;n.api.get_collect_qustion_list(t,(function(t){i.res=t.data.data,i.lists=t.data.data,i.lists.forEach((function(t,i){t.index=i})),i.data=i.lists[0],i.items=JSON.parse(i.data.items),i.items.forEach((function(t,i){t.id=i})),0==i.lists.length&&(i.showList=!0,console.log(i.lists)),console.log("@@@@@@",i.lists)}))},getContinue:function(){var t=this;n.api.get_continue_question_list({is_open:1},(function(i){t.lists=JSON.parse(i.data.cache),t.data=t.lists[0],t.items=JSON.parse(t.data.items),t.items.forEach((function(t,i){t.id=i})),0==t.lists.length&&(t.showList=!0),console.log("@@@@@@",t.lists)})),this.showSituation=!0,this.showAnswer=!0},showQues:function(){this.showGrid=!0},closeQues:function(){this.showGrid=!1},getResult:function(){var t=this;this.result=0;Number(this.result);var i=Number(this.lists.length);this.lists.forEach((function(i){i.niu&&t.result++})),this.correct=(this.result/i).toFixed(2),n.api.delete_pratice_data({is_del:1},(function(t){})),console.log(this.correct,"%"),this.showResult=!0},submit:function(){var t=this,i=(this.arr.join(","),this.arr),e=(0,o.default)(this.data.answer.replace(/,/g,""));i.sort().toString()==e.sort().toString()?(n.api.entrain_get_tts({text:this.right},(function(i){t.url=i.data.file_name,t.innerAudioContext=uni.createInnerAudioContext(),t.innerAudioContext.autoplay=!0,t.innerAudioContext.src=t.url,t.innerAudioContext.onError((function(t){console.log(t.errMsg),console.log(t.errCode)}))})),this.situation="正确",this.showAnswer=!1,this.data.niu=!0,this.getStatus(1)):(n.api.entrain_get_tts({text:this.err+",正确答案是:"+this.data.answer},(function(i){t.url=i.data.file_name,t.innerAudioContext=uni.createInnerAudioContext(),t.innerAudioContext.autoplay=!0,t.innerAudioContext.src=t.url,t.innerAudioContext.onError((function(t){console.log(t.errMsg),console.log(t.errCode)}))})),this.situation="错误",this.showAnswer=!0,this.getStatus(0)),console.log(this.data),this.items.forEach((function(t){t.sin=!1,1==t.score?t.right=!0:0==t.score?t.error=!0:(t.right=!1,t.error=!1)})),console.log(this.data);var s=this.data.index;this.data.color=!0,this.lists[s]=this.data,this.data.select=i.join(","),this.wrong_answer=i.join(","),this.show=!1,this.show=!0,this.showSituation=!0,this.arr=[]},routerLink:function(t){this.data=this.lists[t],this.items=JSON.parse(this.data.items),this.showGrid=!1,this.data.color?(this.wrong_answer=this.data.select,console.log("@@@@@@@@@@@@@@",this.arr),this.showSituation=!0,this.showAnswer=!0):(this.showSituation=!1,this.showAnswer=!1),this.getVoice()},changeQuer:function(t){var i=this.data.index;if("add"==t){if(i--,i<0)return uni.showToast({title:"已经是第一题了",duration:2e3,icon:"none"}),i;this.data=this.lists[i],this.items=JSON.parse(this.data.items)}else(t="reduce")&&(i++,i>=this.lists.length&&(console.log("#############",i),uni.showToast({title:"已经是最后一题了",duration:2e3,icon:"none"}),i=this.lists.length-1),this.data=this.lists[i],this.items=JSON.parse(this.data.items));console.log("@@@@@@@@@@@@@@@@@",i),this.data.color?(this.wrong_answer=this.data.select,this.showSituation=!0,this.showAnswer=!0):(this.showSituation=!1,this.showAnswer=!1),this.getVoice(),this.collection()},select:function(t,i){var e=this;if(1==this.data.multiple){if(-1!=this.arr.indexOf(t.label)){var s=this.arr.indexOf(t.label);this.arr.splice(s,1)}else this.arr.push(t.label);var o,a,l=this.arr.length;for(o=0;o<l;o++)for(a=o+1;a<l;a++)this.arr[o]==this.arr[a]&&(this.arr.splice(a,1),l--,a--);this.arr.includes(t.label)?t.sin=!0:t.sin=!1}if(1!=this.data.multiple){this.showSituation=!0,this.url="",console.log(String(this.data.answer),"and",t.label,"and",this.right),String(this.data.answer)==t.label?(n.api.entrain_get_tts({text:this.right},(function(t){e.url=t.data.file_name,e.index=i})),this.data.niu=!0,t.right=!0,this.showAnswer=!1,this.getStatus(1)):(n.api.entrain_get_tts({text:this.err},(function(t){e.url=t.data.file_name})),this.wrong_answer=t.label,t.error=!0,this.showAnswer=!0,this.getStatus(0));var r=this.data.index;this.data.color=!0,this.lists[r]=this.data,this.data.select=t.label,this.wrong_answer=t.label}this.shuaXin=!1,this.shuaXin=!0},getStatus:function(t){var i=this.data.id,e=JSON.stringify(this.lists);n.api.insert_question_log({status:t,qid:i,cache:e,etp_id:uni.getStorageSync("info").etp_id},(function(t){}))},clearStatus:function(){this.lists.forEach((function(t){t.color="",t.niu="",t.select="",t.option="",t.sense=""})),this.items.forEach((function(t){t.choose="",t.error="",t.sin="",t.right=""})),this.showGrid=!1,this.showSituation=!1,this.getVoice()},collection:function(){var t=this,i=this.data.id;n.api.check_collect_question({qid:i},(function(i){t.collect=i.data}))},handCollect:function(){var t="";t=0==this.collect.is_collected?1:0,console.log(t);var i={qid:this.data.id,type:t};n.api.collect_question(i,(function(t){})),this.collect.is_collected=!this.collect.is_collected,console.log(this.collect.is_collected),this.showCollect=!1,this.showCollect=!0},go:function(){uni.navigateTo({url:"/secure/training/training-hall"})},playClick:function(){this.url="",this.getVoice(),console.log("播放")},getVoice:function(t){var i=this,e=[];this.items.forEach((function(t){e.push(t.label,t.title)}));var s=e.join(",");n.api.entrain_get_tts({text:this.data.question+s},(function(t){i.url=t.data.file_name,i.innerAudioContext=uni.createInnerAudioContext(),i.innerAudioContext.autoplay=!0,i.innerAudioContext.onError((function(t){console.log(t.errMsg),console.log(t.errCode)}))}))}},beforeDestroy:function(){null!=this.innerAudioContext&&this.innerAudioContext.stop()},watch:{$route:function(t,i){t.path},items:{handler:function(t,i,e){null!=this.innerAudioContext&&this.innerAudioContext.stop(),this.index=null},deep:!0}}};i.default=a},e404:function(t,i,e){"use strict";e.r(i);var s=e("802b"),o=e("2155");for(var n in o)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(n);e("69c8");var a=e("828b"),l=Object(a["a"])(o["default"],s["b"],s["c"],!1,null,"ddcabe58",null,!1,s["a"],void 0);i["default"]=l.exports},f3e2:function(t,i,e){var s=e("574e");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=e("967d").default;o("072c5752",s,!0,{sourceMap:!1,shadowMode:!1})}}]);