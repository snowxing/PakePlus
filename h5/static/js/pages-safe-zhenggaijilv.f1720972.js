(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-safe-zhenggaijilv"],{"046b":function(e,a,t){"use strict";t("6a54");var i=t("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=i(t("b7c7"));t("d4b5"),t("bf0f"),t("2797"),t("64aa"),t("c223");var n=t("4241"),s=t("650e"),o=(t("6e31"),{data:function(){return{tableflag:uni.getStorageSync("info").etp_groups.length>0,lists:[],objData:{user:1,name:"",level:0,page:1,year:"",month:0,set_etp_id:uni.getStorageSync("info").etp_groups.length>0?"@":"",status:-1,self:uni.getStorageSync("info").id},currse:!1,msg:"加载中...",risk_category_new:[{value:10,label:"5S"},{value:11,label:"脚手搭设"},{value:12,label:"个人防护"},{value:13,label:"动能皮带"},{value:14,label:"脚手点检"},{value:15,label:"脚手定置"},{value:16,label:"定置管理"},{value:17,label:"安全用电"},{value:18,label:"管线架空"},{value:19,label:"设备设施"},{value:20,label:"作业安全"},{value:21,label:"设备点检"},{value:22,label:"安全监护"},{value:23,label:"私搭私拆"},{value:24,label:"目视管理"},{value:25,label:"作业审批"},{value:26,label:"通风照明"},{value:27,label:"脚手材料"},{value:28,label:"消防管理"},{value:29,label:"违章吸烟"},{value:30,label:"火灾"},{value:31,label:"皮带出舱"},{value:32,label:"攀爬脚手"},{value:33,label:"环保"},{value:34,label:"高空抛物"},{value:35,label:"其他"},{value:36,label:"设备保护"},{value:37,label:"跑冒滴漏"}]}},mounted:function(){this.getList()},methods:{close:function(e){console.log(e,"000vvvvvvvvvvvvvvv"),this.lists=[],this.objData.page=1,this.objData.name=e.name,this.objData.set_etp_id=e.set_etp_id,this.objData.level=e.hidden,this.objData.year=e.year,this.getList()},gotoDetail:function(e){var a=s.config.trans("hidden_level_list",e.level),t=(s.config.trans("zhenggai_status",e.status),(new Date).getTime(),new Date(e.need_fix_time).getTime(),""),i="";e.before_image&&(t=e.before_image),e.after_image&&e.after_image&&(i=e.after_image);for(var l=0;l<this.risk_category_new.length;l++)this.risk_category_new[l].value==e.risk_value&&this.risk_category_new[l].label;var n=[{name:"区域",val:e.place},{name:"隐患级别",val:a},{name:"隐患描述",val:e.desc},{name:"整改措施",val:e.fix_policy},{name:"责任部门",val:e.fixman_uid_department_id_depart_name},{name:"状态",val:e.status},{name:"责任人",val:e.fixman_uid_user_name},{name:"整改纳期",val:e.fix_time},{name:"整改验收人",val:e.fixman},{name:"发现地点",val:e.place},{name:"发现时间",val:e.find_time},{name:"整改前图片",val:t,type:"img"},{name:"整改后图片",val:i,type:"img"}];uni.navigateTo({url:"/pages/safe/taizhangDetail?item="+JSON.stringify(n)})},scrolltolower:function(){this.currse&&this.getList()},getList:function(){var e=this;n.api.risk_record_list(this.objData,(function(a){console.log(a,"getList"),e.msg="暂无数据",a.data.data.length<=0?e.currse=!1:(a.data.data.forEach((function(e){e.find_time=e.find_time,0===Number(e.status)&&1==e.sign?e.status="超纳期":e.status=0===Number(e.status)?"整改中":"已整改"})),e.objData.page=e.objData.page+1,e.currse=!0,e.lists=[].concat((0,l.default)(e.lists),(0,l.default)(a.data.data)))}))}}});a.default=o},3433:function(e,a,t){"use strict";var i=t("83c6"),l=t.n(i);l.a},6203:function(e,a,t){"use strict";t.r(a);var i=t("046b"),l=t.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){t.d(a,e,(function(){return i[e]}))}(n);a["default"]=l.a},7575:function(e,a,t){var i=t("c86c");a=i(!1),a.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.taizhang[data-v-84f9851e]{position:absolute;left:0;right:0;top:%?80?%;bottom:%?110?%;background-color:#fff;padding-top:30px}.taizhang .weihuaBox[data-v-84f9851e]{position:absolute;left:0;bottom:0;right:0;top:30px}',""]),e.exports=a},"83c6":function(e,a,t){var i=t("7575");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var l=t("967d").default;l("bbf935f2",i,!0,{sourceMap:!1,shadowMode:!1})},"85d2":function(e,a,t){"use strict";t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return l})),t.d(a,"a",(function(){}));var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-uni-view",{staticClass:"taizhang"},[t("v-uni-view",{staticClass:"lineLi lineLi1",staticStyle:{"border-bottom":"1upx solid #f1f1f1",top:"80upx"}},[t("v-uni-view",{staticClass:"one centent"},[e._v("序号")]),e.tableflag?t("v-uni-view",{staticClass:"two",staticStyle:{"white-space":"nowrap"}},[e._v("公司")]):e._e(),t("v-uni-view",{staticClass:"two"},[e._v("隐患描述")]),t("v-uni-view",{staticClass:"two"},[e._v("区域")]),t("v-uni-view",{staticClass:"four",staticStyle:{width:"240upx","text-align":"right"}},[e._v("整改时间")])],1),0==e.lists.length?t("v-uni-view",{staticClass:"no-data"},[e._v(e._s(e.msg))]):e._e(),t("v-uni-scroll-view",{staticClass:"weihuaBox",attrs:{"scroll-y":"true"},on:{scrolltolower:function(a){arguments[0]=a=e.$handleEvent(a),e.scrolltolower.apply(void 0,arguments)}}},e._l(e.lists,(function(a,i){return t("v-uni-view",{key:i,staticClass:"table-row",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.gotoDetail(a)}}},[t("v-uni-view",{staticClass:"lineLi"},[t("v-uni-view",{staticClass:"one"},[e._v(e._s(i+1))]),e.tableflag?t("v-uni-view",{staticClass:"two"},[e._v(e._s(a.etp_id_name))]):e._e(),t("v-uni-view",{staticClass:"two"},[e._v(e._s(a.desc))]),t("v-uni-view",{staticClass:"two"},[e._v(e._s(a.place))]),t("v-uni-view",{staticClass:"four",staticStyle:{width:"240upx","text-align":"right"}},[e._v(e._s(a.find_time))])],1)],1)})),1),t("v-vommon-seach",{attrs:{type:"yinghuanqingdan"},on:{close:function(a){arguments[0]=a=e.$handleEvent(a),e.close.apply(void 0,arguments)}}})],1)},l=[]},"8a0f":function(e,a,t){"use strict";t.r(a);var i=t("85d2"),l=t("6203");for(var n in l)["default"].indexOf(n)<0&&function(e){t.d(a,e,(function(){return l[e]}))}(n);t("3433");var s=t("828b"),o=Object(s["a"])(l["default"],i["b"],i["c"],!1,null,"84f9851e",null,!1,i["a"],void 0);a["default"]=o.exports}}]);