(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-task-time-send"],{"573c":function(t,e,a){"use strict";var i=a("9c9f"),n=a.n(i);n.a},"61e4":function(t,e,a){"use strict";a.r(e);var i=a("b21a"),n=a("9b72");for(var d in n)["default"].indexOf(d)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(d);a("573c");var s=a("828b"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"5b4417aa",null,!1,i["a"],void 0);e["default"]=o.exports},"664f":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".task-add-item[data-v-5b4417aa]{overflow:hidden;width:100%;min-height:%?80?%;height:auto;display:flex;padding:0 %?30?%}.task-add-item .left[data-v-5b4417aa]{font-size:%?28?%;min-width:%?160?%;width:auto;max-width:78%;padding-right:%?30?%;display:flex;align-items:center;justify-content:flex-start}.task-add-item .right[data-v-5b4417aa]{flex:1;width:0;display:flex;justify-content:center;align-items:center;justify-content:space-between;align-items:center;min-height:%?80?%;font-size:%?20?%}.task-add-item .right .txt[data-v-5b4417aa]{flex:1;width:0;min-height:%?80?%;flex-direction:column;align-items:flex-start;justify-content:center;display:flex}.task-add-item .right .icon[data-v-5b4417aa]{display:flex;align-items:center;justify-content:flex-end;width:%?50?%;color:#999}.task-add-item .right uni-picker[data-v-5b4417aa],\r\n.task-add-item .right uni-switch[data-v-5b4417aa],\r\n.task-add-item[data-v-5b4417aa]{font-size:%?24?%;color:#666;min-height:%?80?%;line-height:%?80?%}.task-add-item .right uni-picker[data-v-5b4417aa]{width:100%}[data-v-5b4417aa] .uni-radio-input{height:%?36?%;width:%?36?%}.form-title[data-v-5b4417aa]{font-size:%?32?%;display:flex;justify-content:space-between;padding:%?30?%;background:#eee}.form-title .title-right[data-v-5b4417aa]{color:#888;font-size:%?28?%}.select-types[data-v-5b4417aa]{width:100%;height:100%;background:#f3f2f0;position:fixed;left:0;top:0;z-index:100}.select-types .item[data-v-5b4417aa]{width:100%;height:%?100?%;line-height:%?100?%;padding-left:%?30?%;border-bottom:%?1?% solid #e6e6e6;background:#fff;font-size:%?32?%;color:#1a1a1a}.select-types .item.active[data-v-5b4417aa]{background:#dbdbdb}.task-add-container[data-v-5b4417aa]{width:100%;min-height:100%;height:auto;padding-bottom:%?120?%}.task-add-container .box[data-v-5b4417aa]{background:#fff;width:100%;height:auto;border-bottom:%?1?% solid #ccc}.task-add-container .box .title[data-v-5b4417aa]{width:100%;height:%?100?%;background:#f8f7f6;display:flex;justify-content:center;align-items:center}.task-add-container .box .item[data-v-5b4417aa]{border-top:%?1?% solid #ccc}.rate-tag[data-v-5b4417aa]{margin:3px;padding:3px 3px 6px 4px;display:inline-block;background:#eee;border:1px solid #e8d4d4;width:40px;height:30px;border-radius:4px;text-align:center;cursor:pointer}.select-tag-1[data-v-5b4417aa]{background:red}.select-tag-2[data-v-5b4417aa]{background:#5fd7fb}.select-tag-3[data-v-5b4417aa]{background:#09ff00}.select-tag-4[data-v-5b4417aa]{background:#ffcf00}.send-time[data-v-5b4417aa]{position:fixed;bottom:%?20?%;background-color:#1c77dc;width:90%;margin-left:5%;color:#fff}",""]),t.exports=e},"9b72":function(t,e,a){"use strict";a.r(e);var i=a("a667"),n=a.n(i);for(var d in i)["default"].indexOf(d)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(d);e["default"]=n.a},"9c9f":function(t,e,a){var i=a("664f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("3eaeca4a",i,!0,{sourceMap:!1,shadowMode:!1})},a667:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("64aa"),a("aa9c"),a("bf0f"),a("2797"),a("d4b5");var i=a("4241"),n=a("6e31"),d=a("1575"),s={data:function(){return{arrcc:[],arr:[],show:!1,txt:"请选择接收人",name:"",footerShow:!1,selectList:[],list:[],page:1,multiple:!1,lastSelectIndex:-1,submitData:{},inputs:[{title:"选择任务接收人",type:"treeselect",field:"staff_id",props:{placeholder:"请选择",source:"staff",multiple:!0},value:[],options:[]},{title:"选择抄送人",type:"treeselects",field:"staff_id",props:{placeholder:"请选择",source:"staff",multiple:!0},value:[],options:[]},{title:"开始时间",type:"datetime",field:"begin_date",props:{placeholder:""},value:n.tool.getCurrentFormatTime(28800)},{title:"结束时间",type:"datetime",field:"end_date",props:{placeholder:""},value:n.tool.getCurrentFormatTime(28802)},{title:"每周安排",value:[],type:"checkbox",field:"is_work_date",props:{placeholder:"",multiple:!0},options:[]},{title:"发送时间",type:"select",field:"send_time",value:0,props:{placeholder:"",multiple:!1},options:[]}],properties:{}}},components:{},props:{item:Object,index:Number},mounted:function(){var t=getApp({allowDefault:!0});t.globalData.postData=null;var e=["周一","周二","周三","周四","周五","周六","周日"];console.log(this.inputs);for(var a=1;a<=7;a++)this.inputs[4].options.push({value:a,label:e[a-1]});for(var i=8;i<=31;i++){var n=i;i>=24&&(n-=24),this.inputs[5].options.push({value:n,label:n+"点"})}},methods:{trigger:function(t){var e=this;if("staff_id"==t.detail.field){var a=[];this.arr=[],t.detail.value.forEach((function(t){a.push(t.id),e.arr.push({id:t.id,name:t.title})})),this.submitData[t.detail.field]=a.join(",")}else"is_work_date"==t.detail.field?this.submitData[t.detail.field]=t.detail.value.join(","):this.submitData[t.detail.field]=t.detail.value},triggers:function(t){var e=this;"staff_id"==t.detail.field?(this.arrcc=[],t.detail.value.forEach((function(t){e.arrcc.push({id:t.id,name:t.title})}))):t.detail.field},submit:function(){var t=getApp({allowDefault:!0}),e=t.globalData.formData;if(0==this.submitData.begin_date.length||0==this.submitData.end_date.length)return n.tool.info("必须选择任务开始时间和截至时间");if(0==this.submitData.is_work_date.length)return n.tool.info("必须选择每周安排");if(0==this.submitData.send_time.length)return n.tool.info("必须选择发送时间");if(0==this.submitData.staff_id.length)return n.tool.info("必须选择接收人");var a={staff_id:JSON.stringify(this.arr),begin_date:this.submitData.begin_date.split(" ")[0],end_date:this.submitData.end_date.split(" ")[0],is_work_date:this.submitData.is_work_date,send_time:this.submitData.send_time,id:0,cc:JSON.stringify("[]")};e.candidate=JSON.stringify([]),e.notice="",e.deadline_time="1970-01-01 00:00:00",e.deadline_start_time="1970-01-01 00:00:00",e.timepolicy=JSON.stringify(a),i.api.process_launch(e,(function(e){if(203==e.code||200==e.code)d.wxapi.openUrl("/pages/task/list?type="+t.globalData.task_type,2);else if(206==e.code){var a=getCurrentPages()[getCurrentPages().length-1];a.onLoad(a.options)}}))}}};e.default=s},b21a:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"task-add-container"},[a("v-uni-view",{staticClass:"box"},[t._l(t.inputs,(function(e,i){return["input"==e.type?a("v-uni-view",{key:i+"_0",staticClass:"item"},[a("v-input",{attrs:{item:e,index:i},on:{trigger:function(e){arguments[0]=e=t.$handleEvent(e),t.trigger.apply(void 0,arguments)}}})],1):t._e(),"select"==e.type?a("v-uni-view",{key:i+"_1",staticClass:"item"},[a("v-select",{attrs:{item:e,index:i},on:{trigger:function(e){arguments[0]=e=t.$handleEvent(e),t.trigger.apply(void 0,arguments)}}})],1):t._e(),"checkbox"==e.type?a("v-uni-view",{key:i+"_2",staticClass:"item"},[a("v-select",{attrs:{item:e,index:i},on:{trigger:function(e){arguments[0]=e=t.$handleEvent(e),t.trigger.apply(void 0,arguments)}}})],1):t._e(),"datetime"==e.type||"date"==e.type?a("v-uni-view",{key:i+"_3",staticClass:"item"},[a("v-date-time",{attrs:{item:e,index:i},on:{trigger:function(e){arguments[0]=e=t.$handleEvent(e),t.trigger.apply(void 0,arguments)}}})],1):t._e(),"treeselect"==e.type?a("v-uni-view",{key:i+"_4",staticClass:"item"},[a("v-select",{attrs:{item:e,index:i},on:{trigger:function(e){arguments[0]=e=t.$handleEvent(e),t.trigger.apply(void 0,arguments)}}})],1):t._e(),"treeselects"==e.type?a("v-uni-view",{key:i+"_5",staticClass:"item"},[a("v-select",{attrs:{item:e,index:i},on:{trigger:function(e){arguments[0]=e=t.$handleEvent(e),t.triggers.apply(void 0,arguments)}}})],1):t._e()]}))],2),a("v-uni-button",{staticClass:"send-time",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交")])],1)},n=[]}}]);