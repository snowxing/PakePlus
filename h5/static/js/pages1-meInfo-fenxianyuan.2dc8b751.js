(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages1-meInfo-fenxianyuan"],{1247:function(e,t,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("c223"),a("bf0f"),a("2797"),a("d4b5");var i=n(a("b7c7")),s=a("4241"),l=(a("1575"),a("650e")),o=(getApp({allowDefault:!0}),{components:{},data:function(){return{lists:[],pages:{name:"",level_id:"",doc_type:0,page:1,set_etp_id:uni.getStorageSync("info").etp_groups.length>0?"@":"",user:1,tab:"risk",id:""},canPull:!0,msg:"加载中..."}},onPullDownRefresh:function(){this.pages.page=1,uni.showNavigationBarLoading(),this.load_data()},mounted:function(){},onLoad:function(e){e.id&&(this.pages.id=e.id),this.load_data()},methods:{close:function(e){this.lists=[],this.pages.page=1,this.pages.level_id=e.leave,this.pages.doc_type=e.category_id,this.pages.name=e.name,this.pages.set_etp_id=e.set_etp_id,this.load_data()},scrolltolower:function(){if(this.canPull){var e=this.pages.page+1;this.pages.page=e,this.load_data()}},load_data:function(){var e=this;s.api.get_personal_data_list(e.pages,(function(t){t&&(e.msg="暂无数据",console.log(t.data.data,"res"),0==t.data.data.length&&e.setData({canPull:!1}),e.lists=[].concat((0,i.default)(e.lists),(0,i.default)(t.data.data)),e.lists.forEach((function(e,t){switch(console.log(e.level_id,"000000100"),e.doc_type=l.config.trans("risk_category",e.doc_type),e.level_id){case"0":e.level_id="不限";break;case"1":e.level_id="重大风险";break;case"2":e.level_id="较大风险";break;case"3":e.level_id="一般风险";break;case"4":e.level_id="低风险";break}})))}))},gotoDetail:function(e){console.log(e,"llllllllll");e.level_id,e.check_freq_type&&l.config.trans("risk_freq",e.check_freq_type);var t=[];t="岗位"==e.type_name?[{name:"危险源",val:e.name},{name:"原因",val:e.reason},{name:"公司",val:e.etp_id_name},{name:"类别",val:e.type_name},{name:"编码",val:e.code},{name:"风险等级",val:e.level_num},{name:"部门",val:e.department_name},{name:"责任人",val:e.staff_name},{name:"备注",val:e.note},{name:"时间",val:e.created_at}]:[{name:"危险源",val:e.name},{name:"原因",val:e.reason},{name:"公司",val:e.etp_id_name},{name:"类别",val:e.type_name},{name:"编码",val:e.code},{name:"风险等级",val:e.level_num},{name:"部门",val:e.department_name},{name:"岗位",val:e.post_name},{name:"责任人",val:e.staff_name},{name:"备注",val:e.note},{name:"时间",val:e.created_at}],uni.navigateTo({url:"/pages/safe/taizhangDetail?item="+JSON.stringify(t)})}}});t.default=o},"353bb":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"monitorList"},[a("v-uni-view",{staticClass:"eqBox"},[a("v-uni-view",{staticClass:"lineLi lineLi1",staticStyle:{"border-bottom":"1upx solid #f1f1f1",top:"0","border-top":"1upx solid #f1f1f1"}},[a("v-uni-view",{staticClass:"one centent"},[e._v("序号")]),a("v-uni-view",{staticClass:"three",staticStyle:{"text-align":"center"}},[e._v("危险源")]),a("v-uni-view",{staticClass:"three",staticStyle:{"text-align":"center"}},[e._v("事故/职业病")]),a("v-uni-view",{staticClass:"two"},[e._v("风险值")]),a("v-uni-view",{staticClass:"two"},[e._v("风险等级")])],1),0==e.lists.length?a("v-uni-view",{staticClass:"no-data"},[e._v(e._s(e.msg))]):e._e(),a("v-uni-scroll-view",{staticClass:"weihuaBox",attrs:{"scroll-y":"true"},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.scrolltolower.apply(void 0,arguments)}}},e._l(e.lists,(function(t,n){return a("v-uni-view",{key:n,staticClass:"table-row",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.gotoDetail(t)}}},[a("v-uni-view",{staticClass:"lineLi"},[a("v-uni-view",{staticClass:"one",staticStyle:{"text-align":"center"}},[e._v(e._s(n+1))]),a("v-uni-view",{staticClass:"three",staticStyle:{"text-align":"center"}},[e._v(e._s(t.name))]),a("v-uni-view",{staticClass:"three",staticStyle:{"text-align":"center"}},[e._v(e._s(t.risk_name))]),a("v-uni-view",{staticClass:"two",staticStyle:{"text-align":"center"}},[e._v(e._s(t.level_num))]),a("v-uni-view",{staticClass:"two",staticStyle:{"text-align":"center"}},[e._v(e._s(t.level_id))])],1)],1)})),1)],1),a("v-vommon-seach",{attrs:{type:"Infofengxian"},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}}),a("v-footer")],1)},i=[]},"75a3":function(e,t,a){"use strict";var n=a("a32d"),i=a.n(n);i.a},8880:function(e,t,a){"use strict";a.r(t);var n=a("353bb"),i=a("d1c9");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("75a3");var l=a("828b"),o=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"3e99f11e",null,!1,n["a"],void 0);t["default"]=o.exports},a32d:function(e,t,a){var n=a("f9c8");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("967d").default;i("3df0d498",n,!0,{sourceMap:!1,shadowMode:!1})},d1c9:function(e,t,a){"use strict";a.r(t);var n=a("1247"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},f9c8:function(e,t,a){var n=a("c86c");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.monitorList[data-v-3e99f11e]{position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden}.monitorList .eqBox[data-v-3e99f11e]{position:absolute;left:0;right:0;top:0;bottom:%?110?%;background-color:#fff;padding-top:30px}.monitorList .eqBox .weihuaBox[data-v-3e99f11e]{position:absolute;left:0;bottom:0;right:0;top:30px}',""]),e.exports=t}}]);